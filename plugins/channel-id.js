const{cmd}=require("../command");cmd({pattern:"cid",alias:["newsletter","id"],react:"ğŸ“¡",desc:"GetWhatsAppChannelinfofromlink",category:"whatsapp",filename:__filename},async(conn,mek,m,{from,args,q,reply})=>{try{if(!q)returnreply("âPleaseprovideaWhatsAppChannellink.\n\n*Example:*.cinfohttps://whatsapp.com/channel/123456789");constmatch=q.match(/whatsapp\.com\/channel\/([\w-]+)/);if(!match)returnreply("âš ï¸*Invalidchannellinkformat.*\n\nMakesureitlookslike:\nhttps://whatsapp.com/channel/xxxxxxxxx");constinviteId=match[1];letmetadata;try{metadata=awaitconn.newsletterMetadata("invite",inviteId);}catch(e){returnreply("âŒFailedtofetchchannelmetadata.Makesurethelinkiscorrect.");}if(!metadata||!metadata.id)returnreply("âŒChannelnotfoundorinaccessible.");constinfoText=`*â€”ä¹‚ChannelInfoâ€”*\n\n`+`ğŸ†”*ID:*${metadata.id}\n`+`ğŸ“Œ*Name:*${metadata.name}\n`+`ğŸ‘¥*Followers:*${metadata.subscribers?.toLocaleString()||"N/A"}\n`+`ğŸ“…*Createdon:*${metadata.creation_time?newDate(metadata.creation_time*1000).toLocaleString("id-ID"):"Unknown"}`;if(metadata.preview){awaitconn.sendMessage(from,{image:{url:`https://pps.whatsapp.net${metadata.preview}`},caption:infoText},{quoted:m});}else{awaitreply(infoText);}}catch(error){console.error("âŒErrorin.cinfoplugin:",error);reply("âš ï¸Anunexpectederroroccurred.");}});