constaxios=require("axios");const{cmd}=require("../command");const{fetchGif,gifToVideo}=require("../lib/fetchGif");cmd({pattern:"marige",alias:["shadi","marriage","wedding"],desc:"RandomlypairstwousersformarriagewithaweddingGIF",react:"ğŸ’",category:"fun",filename:__filename},async(conn,mek,store,{isGroup,groupMetadata,reply,sender})=>{try{if(!isGroup)returnreply("âŒThiscommandcanonlybeusedingroups!");constparticipants=groupMetadata.participants.map(user=>user.id);//FilteroutthesenderandbotnumberifneededconsteligibleParticipants=participants.filter(id=>id!==sender&&!id.includes(conn.user.id.split('@')[0]));if(eligibleParticipants.length<1){returnreply("âŒNotenoughparticipantstoperformamarriage!");}//SelectrandompairconstrandomIndex=Math.floor(Math.random()*eligibleParticipants.length);constrandomPair=eligibleParticipants[randomIndex];//FetchweddingGIFconstapiUrl="https://api.waifu.pics/sfw/hug";//UsingkissasweddingGIFletres=awaitaxios.get(apiUrl);letgifUrl=res.data.url;letgifBuffer=awaitfetchGif(gifUrl);letvideoBuffer=awaitgifToVideo(gifBuffer);constmessage=`ğŸ’*ShadiMubarak!*ğŸ’’\n\nğŸ‘°@${sender.split("@")[0]}+ğŸ¤µ@${randomPair.split("@")[0]}\n\nMayyoubothlivehappilyeverafter!ğŸ’–`;awaitconn.sendMessage(mek.chat,{video:videoBuffer,caption:message,gifPlayback:true,mentions:[sender,randomPair]},{quoted:mek});}catch(error){console.error("âŒErrorin.marigecommand:",error);reply(`âŒ*Errorin.marigecommand:*\n\`\`\`${error.message}\`\`\``);}});