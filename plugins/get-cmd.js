const{cmd,commands}=require('../command');constfs=require('fs');constpath=require('path');cmd({pattern:"get",alias:["source","js"],desc:"Fetchthefullsourcecodeofacommand",category:"owner",react:"ğŸ“œ",filename:__filename},async(conn,mek,m,{from,args,reply,isOwner})=>{try{if(!isOwner)returnreply("âŒYoudon'thavepermissiontousethiscommand!");if(!args[0])returnreply("âŒPleaseprovideacommandname.Example:`.getalive`");constcommandName=args[0].toLowerCase();constcommandData=commands.find(cmd=>cmd.pattern===commandName||(cmd.alias&&cmd.alias.includes(commandName)));if(!commandData)returnreply("âŒCommandnotfound!");//GetthecommandfilepathconstcommandPath=commandData.filename;//ReadthefullsourcecodeconstfullCode=fs.readFileSync(commandPath,'utf-8');//TruncatelongmessagesforWhatsApplettruncatedCode=fullCode;if(truncatedCode.length>4000){truncatedCode=fullCode.substring(0,4000)+"\n\n//Codetoolong,sendingfullfileğŸ“‚";}//FormattedcaptionwithtruncatedcodeconstformattedCode=`â¬¤â”€â”€â”€ã€”*ğŸ“œCommandSource*ã€•â”€â”€â”€â¬¤\`\`\`js${truncatedCode}\`\`\`â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€âŠ·âš¡FullfilesentbelowğŸ“‚PoweredBy*NexusTech*â˜£ï¸`;//Sendimagewithtruncatedsourcecodeawaitconn.sendMessage(from,{image:{url:`https://files.catbox.moe/ug8w1x.jpg`},//ImageURLcaption:formattedCode,contextInfo:{mentionedJid:[m.sender],forwardingScore:999,isForwarded:true,forwardedNewsletterMessageInfo:{newsletterJid:'120363288304618280@newsletter',newsletterName:'NexusTech',serverMessageId:143}}},{quoted:mek});//SendfullsourcefileconstfileName=`${commandName}.js`;consttempPath=path.join(__dirname,fileName);fs.writeFileSync(tempPath,fullCode);awaitconn.sendMessage(from,{document:fs.readFileSync(tempPath),mimetype:'text/javascript',fileName:fileName},{quoted:mek});//Deletethetemporaryfilefs.unlinkSync(tempPath);}catch(e){console.error("Errorin.getcommand:",e);reply(`âŒError:${e.message}`);}});