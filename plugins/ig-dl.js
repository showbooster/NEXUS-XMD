constconfig=require('../config');const{cmd}=require('../command');constfetch=require('node-fetch');cmd({pattern:"igvid",alias:["insta","igdl","instagram"],react:"ğŸ¥",desc:"DownloadInstagramvideosonly",category:"downloader",use:'.igvid<InstagramURL>',filename:__filename},async(conn,mek,m,{from,prefix,quoted,q,reply})=>{try{if(!q||!q.startsWith('http')){returnreply(`âœ³ï¸PleaseprovideavalidInstagramURL.\nExample:${prefix}igvid<URL>`);}//Waitingreactionawaitconn.sendMessage(from,{react:{text:"â³",key:m.key}});constresponse=awaitfetch(`https://delirius-apiofc.vercel.app/download/instagram?url=${encodeURIComponent(q)}`);if(!response.ok)thrownewError("FailedtofetchfromInstagramAPI");constjson=awaitresponse.json();if(!json.data||!Array.isArray(json.data))thrownewError("InvalidAPIresponsestructure");constvideos=json.data.filter(item=>item.url&&item.url.endsWith('.mp4'));if(!videos.length){awaitconn.sendMessage(from,{react:{text:"âŒ",key:m.key}});returnreply("âŒNovideosfoundintheInstagrampost.");}//Successreactionawaitconn.sendMessage(from,{react:{text:"âœ…",key:m.key}});for(constvideoofvideos){awaitconn.sendMessage(from,{video:{url:video.url},mimetype:"video/mp4",caption:`â•­â”â”â”ã€”*NEXUS-XMD*ã€•â”â”â”â”ˆâŠ·\nâ”ƒâ–¸*InstagramVideo*\nâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·\n>*Â©PoweredNEXUS-TECHâ™¡*`},{quoted:mek});}}catch(e){console.error("IGVIDERROR:",e.message||e);awaitconn.sendMessage(from,{react:{text:"âŒ",key:m.key}});awaitreply("âAnerroroccurredwhileprocessingyourrequest.");}});