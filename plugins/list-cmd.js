constconfig=require('../config')const{cmd,commands}=require('../command')const{runtime}=require('../lib/functions')cmd({pattern:"list",alias:["listcmd","commands"],desc:"Showallavailablecommandswithdescriptions",category:"menu",react:"ğŸ“œ",filename:__filename},async(conn,mek,m,{from,reply})=>{try{//CounttotalcommandsandaliasesconsttotalCommands=Object.keys(commands).lengthletaliasCount=0Object.values(commands).forEach(cmd=>{if(cmd.alias)aliasCount+=cmd.alias.length})//Getuniquecategoriescountconstcategories=[...newSet(Object.values(commands).map(c=>c.category))]letmenuText=`â•­â”€â”€â”€ã€*${config.BOT_NAME}COMMANDLIST*ã€â”€â”€â”€â³¹â”‚â”‚*ğŸ› ï¸BOTINFORMATION*â”‚â€¢ğŸ¤–BotName:${config.BOT_NAME}â”‚â€¢ğŸ‘‘Owner:${config.OWNER_NAME}â”‚â€¢âš™ï¸Prefix:[${config.PREFIX}]â”‚â€¢ğŸŒPlatform:Herokuâ”‚â€¢ğŸ“¦Version:4.0.0â”‚â€¢ğŸ•’Runtime:${runtime(process.uptime())}â”‚â”‚*ğŸ“ŠCOMMANDSTATS*â”‚â€¢ğŸ“œTotalCommands:${totalCommands}â”‚â€¢ğŸ”„TotalAliases:${aliasCount}â”‚â€¢ğŸ—‚ï¸Categories:${categories.length}â”‚â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â³¹\n`//Organizecommandsbycategoryconstcategorized={}categories.forEach(cat=>{categorized[cat]=Object.values(commands).filter(c=>c.category===cat)})//Generatemenuforeachcategoryfor(const[category,cmds]ofObject.entries(categorized)){menuText+=`â•­â”€â”€â”€ã€*${category.toUpperCase()}*ã€â”€â”€â”€â³¹â”‚â€¢ğŸ“‚Commands:${cmds.length}â”‚â€¢ğŸ”„Aliases:${cmds.reduce((a,c)=>a+(c.alias?c.alias.length:0),0)}â”‚`cmds.forEach(c=>{menuText+=`â”ƒâ–¸ğŸ“„COMMAND:.${c.pattern}\n`menuText+=`â”ƒâ–¸â•${c.desc||'Nodescriptionavailable'}\n`if(c.alias&&c.alias.length>0){menuText+=`â”ƒâ–¸ğŸ”¹Aliases:${c.alias.map(a=>`.${a}`).join(',')}\n`}if(c.use){menuText+=`â”ƒâ–¸ğŸ’¡Usage:${c.use}\n`}menuText+=`â”‚\n`})menuText+=`â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â³¹\n`}menuText+=`\nğŸ“*Note*:Use${config.PREFIX}help<command>fordetailedhelp\n`menuText+=`>${config.DESCRIPTION}`awaitconn.sendMessage(from,{image:{url:config.MENU_IMAGE_URL||'https://files.catbox.moe/071v1s.jpg'},caption:menuText,contextInfo:{mentionedJid:[m.sender],forwardingScore:999,isForwarded:true}},{quoted:mek})}catch(e){console.error('CommandListError:',e)reply(`âŒErrorgeneratingcommandlist:${e.message}`)}})