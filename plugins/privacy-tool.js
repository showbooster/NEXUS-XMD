constfs=require("fs");constconfig=require("../config");const{cmd,commands}=require("../command");constpath=require('path');constaxios=require("axios");cmd({pattern:"privacy",alias:["privacymenu"],desc:"Privacysettingsmenu",category:"privacy",react:"ğŸ”",filename:__filename},async(conn,mek,m,{from,quoted,body,isCmd,command,args,q,isGroup,sender,senderNumber,botNumber2,botNumber,pushname,isMe,isOwner,groupMetadata,groupName,participants,groupAdmins,isBotAdmins,isAdmins,reply})=>{try{letprivacyMenu=`â•­â”â”ã€”*PrivacySettings*ã€•â”â”â”ˆâŠ·â”ƒâ—ˆâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Â·à¹â”ƒâ—ˆâ”ƒâ€¢blocklist-Viewblockedusersâ”ƒâ—ˆâ”ƒâ€¢getbio-Getuser'sbioâ”ƒâ—ˆâ”ƒâ€¢setppall-Setprofilepicprivacyâ”ƒâ—ˆâ”ƒâ€¢setonline-Setonlineprivacyâ”ƒâ—ˆâ”ƒâ€¢setpp-Changebot'sprofilepicâ”ƒâ—ˆâ”ƒâ€¢setmyname-Changebot'snameâ”ƒâ—ˆâ”ƒâ€¢updatebio-Changebot'sbioâ”ƒâ—ˆâ”ƒâ€¢groupsprivacy-Setgroupaddprivacyâ”ƒâ—ˆâ”ƒâ€¢getprivacy-Viewcurrentprivacysettingsâ”ƒâ—ˆâ”ƒâ€¢getpp-Getuser'sprofilepictureâ”ƒâ—ˆâ”ƒâ”ƒâ—ˆâ”ƒ*Optionsforprivacycommands:*â”ƒâ—ˆâ”ƒâ€¢all-Everyoneâ”ƒâ—ˆâ”ƒâ€¢contacts-Mycontactsonlyâ”ƒâ—ˆâ”ƒâ€¢contact_blacklist-Contactsexceptblockedâ”ƒâ—ˆâ”ƒâ€¢none-Nobodyâ”ƒâ—ˆâ”ƒâ€¢match_last_seen-Matchlastseenâ”ƒâ—ˆâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”ˆâŠ·*Note:*Mostcommandsareowner-only`;awaitconn.sendMessage(from,{image:{url:`https://files.catbox.moe/ug8w1x.jpg`},//Replacewithprivacy-themedimageifavailablecaption:privacyMenu,contextInfo:{mentionedJid:[m.sender],forwardingScore:999,isForwarded:true,forwardedNewsletterMessageInfo:{newsletterJid:'120363288304618280@newsletter',newsletterName:"PrivacySettings",serverMessageId:143}}},{quoted:mek});}catch(e){console.log(e);reply(`Error:${e.message}`);}});cmd({pattern:"blocklist",desc:"Viewthelistofblockedusers.",category:"privacy",react:"ğŸ“‹",filename:__filename},async(conn,mek,m,{from,isOwner,reply})=>{if(!isOwner)returnreply("*ğŸ“›Youarenottheowner!*");try{//FetchtheblocklistconstblockedUsers=awaitconn.fetchBlocklist();if(blockedUsers.length===0){returnreply("ğŸ“‹Yourblocklistisempty.");}//FormattheblockeduserswithğŸ“Œandcountthetotalconstlist=blockedUsers.map((user,i)=>`ğŸš§BLOCKED${user.split('@')[0]}`)//RemovedomainandaddğŸ“Œ.join('\n');constcount=blockedUsers.length;reply(`ğŸ“‹BlockedUsers(${count}):\n\n${list}`);}catch(err){console.error(err);reply(`âŒFailedtofetchblocklist:${err.message}`);}});cmd({pattern:"getbio",desc:"Displaystheuser'sbio.",category:"privacy",filename:__filename,},async(conn,mek,m,{args,reply})=>{try{constjid=args[0]||mek.key.remoteJid;constabout=awaitconn.fetchStatus?.(jid);if(!about)returnreply("Nobiofound.");returnreply(`UserBio:\n\n${about.status}`);}catch(error){console.error("Errorinbiocommand:",error);reply("Nobiofound.");}});cmd({pattern:"setppall",desc:"UpdateProfilePicturePrivacy",category:"privacy",react:"ğŸ”",filename:__filename},async(conn,mek,m,{from,l,quoted,body,isCmd,command,args,q,isGroup,sender,senderNumber,botNumber2,botNumber,pushname,isMe,isOwner,groupMetadata,groupName,participants,groupAdmins,isBotAdmins,isAdmins,reply})=>{if(!isOwner)returnreply("âŒYouarenottheowner!");try{constvalue=args[0]||'all';constvalidValues=['all','contacts','contact_blacklist','none'];if(!validValues.includes(value)){returnreply("âŒInvalidoption.Validoptionsare:'all','contacts','contact_blacklist','none'.");}awaitconn.updateProfilePicturePrivacy(value);reply(`âœ…Profilepictureprivacyupdatedto:${value}`);}catch(e){returnreply(`*Anerroroccurredwhileprocessingyourrequest.*\n\n_Error:_${e.message}`);}});cmd({pattern:"setonline",desc:"UpdateOnlinePrivacy",category:"privacy",react:"ğŸ”",filename:__filename},async(conn,mek,m,{from,l,quoted,body,isCmd,command,args,q,isGroup,sender,senderNumber,botNumber2,botNumber,pushname,isMe,isOwner,groupMetadata,groupName,participants,groupAdmins,isBotAdmins,isAdmins,reply})=>{if(!isOwner)returnreply("âŒYouarenottheowner!");try{constvalue=args[0]||'all';constvalidValues=['all','match_last_seen'];if(!validValues.includes(value)){returnreply("âŒInvalidoption.Validoptionsare:'all','match_last_seen'.");}awaitconn.updateOnlinePrivacy(value);reply(`âœ…Onlineprivacyupdatedto:${value}`);}catch(e){returnreply(`*Anerroroccurredwhileprocessingyourrequest.*\n\n_Error:_${e.message}`);}});cmd({pattern:"setpp",desc:"Setbotprofilepicture.",category:"privacy",react:"ğŸ–¼ï¸",filename:__filename},async(conn,mek,m,{from,isOwner,quoted,reply})=>{if(!isOwner)returnreply("âŒYouarenottheowner!");if(!quoted||!quoted.message.imageMessage)returnreply("âŒPleasereplytoanimage.");try{conststream=awaitdownloadContentFromMessage(quoted.message.imageMessage,'image');letbuffer=Buffer.from([]);forawait(constchunkofstream){buffer=Buffer.concat([buffer,chunk]);}constmediaPath=path.join(__dirname,`${Date.now()}.jpg`);fs.writeFileSync(mediaPath,buffer);//Updateprofilepicturewiththesavedfileawaitconn.updateProfilePicture(conn.user.jid,{url:`file://${mediaPath}`});reply("ğŸ–¼ï¸Profilepictureupdatedsuccessfully!");}catch(error){console.error("Errorupdatingprofilepicture:",error);reply(`âŒErrorupdatingprofilepicture:${error.message}`);}});cmd({pattern:"setmyname",desc:"SetyourWhatsAppdisplayname.",category:"privacy",react:"âš™ï¸",filename:__filename},async(conn,mek,m,{from,isOwner,reply,args})=>{if(!isOwner)returnreply("âŒYouarenottheowner!");//EnsureyouhavethedisplaynameargumentconstdisplayName=args.join("");if(!displayName)returnreply("âŒPleaseprovideadisplayname.");try{//Ensurethesessionisloadedbeforetryingtoupdateconst{state,saveCreds}=awaituseMultiFileAuthState('path/to/auth/folder');constconn=makeWASocket({auth:state,printQRInTerminal:true,});conn.ev.on('creds.update',saveCreds);//Updatedisplaynameafterconnectionawaitconn.updateProfileName(displayName);reply(`âœ…Yourdisplaynamehasbeensetto:${displayName}`);}catch(err){console.error(err);reply("âŒFailedtosetyourdisplayname.");}});cmd({pattern:"updatebio",react:"ğŸ¥",desc:"ChangetheBotnumberBio.",category:"privacy",use:'.updatebio',filename:__filename},async(conn,mek,m,{from,l,quoted,body,isCmd,command,args,q,isGroup,sender,senderNumber,botNumber2,botNumber,pushname,isMe,isOwner,groupMetadata,groupName,participants,groupAdmins,isBotAdmins,isAdmins,reply})=>{try{if(!isOwner)returnreply('ğŸš«*YoumustbeanOwnertousethiscommand*');if(!q)returnreply('â“*EntertheNewBio*');if(q.length>139)returnreply('â—*Sorry!Characterlimitexceeded*');awaitconn.updateProfileStatus(q);awaitconn.sendMessage(from,{text:"âœ”ï¸*NewBioAddedSuccessfully*"},{quoted:mek});}catch(e){reply('ğŸš«*Anerroroccurred!*\n\n'+e);l(e);}});cmd({pattern:"groupsprivacy",desc:"UpdateGroupAddPrivacy",category:"privacy",react:"ğŸ”",filename:__filename},async(conn,mek,m,{from,l,quoted,body,isCmd,command,args,q,isGroup,sender,senderNumber,botNumber2,botNumber,pushname,isMe,isOwner,groupMetadata,groupName,participants,groupAdmins,isBotAdmins,isAdmins,reply})=>{if(!isOwner)returnreply("âŒYouarenottheowner!");try{constvalue=args[0]||'all';constvalidValues=['all','contacts','contact_blacklist','none'];if(!validValues.includes(value)){returnreply("âŒInvalidoption.Validoptionsare:'all','contacts','contact_blacklist','none'.");}awaitconn.updateGroupsAddPrivacy(value);reply(`âœ…Groupaddprivacyupdatedto:${value}`);}catch(e){returnreply(`*Anerroroccurredwhileprocessingyourrequest.*\n\n_Error:_${e.message}`);}});cmd({pattern:"getprivacy",desc:"GetthebotNumberPrivacySettingUpdates.",category:"privacy",use:'.getprivacy',filename:__filename},async(conn,mek,m,{from,l,quoted,body,isCmd,command,args,q,isGroup,sender,senderNumber,botNumber2,botNumber,pushname,isMe,isOwner,groupMetadata,groupName,participants,groupAdmins,isBotAdmins,isAdmins,reply})=>{try{if(!isOwner)returnreply('ğŸš«*YoumustbeanOwnertousethiscommand*');constduka=awaitconn.fetchPrivacySettings?.(true);if(!duka)returnreply('ğŸš«*Failedtofetchprivacysettings*');letpuka=`â•­â”€â”€â”€ã€Œğ™¿ğšğ™¸ğš…ğ™°ğ™²ğšˆã€â”€â”€â”€â—†â”‚âˆ˜ğšğšğšŠğšğšğšğšŒğšğš’ğš™ğš:${duka.readreceipts}â”‚âˆ˜ğ™¿ğš›ğš˜ğšğš’ğš•ğšğ™¿ğš’ğšŒğšğšğš›ğš:${duka.profile}â”‚âˆ˜ğš‚ğšğšŠğšğšğšœ:${duka.status}â”‚âˆ˜ğ™¾ğš—ğš•ğš’ğš—ğš:${duka.online}â”‚âˆ˜ğ™»ğšŠğšœğšğš‚ğšğšğš—:${duka.last}â”‚âˆ˜ğ™¶ğš›ğš˜ğšğš™ğ™¿ğš›ğš’ğšŸğšŠğšŒğš¢:${duka.groupadd}â”‚âˆ˜ğ™²ğšŠğš•ğš•ğ™¿ğš›ğš’ğšŸğšŠğšŒğš¢:${duka.calladd}â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€`;awaitconn.sendMessage(from,{text:puka},{quoted:mek});}catch(e){reply('ğŸš«*Anerroroccurred!*\n\n'+e);l(e);}});cmd({pattern:"getpp",desc:"Fetchtheprofilepictureofataggedorreplieduser.",category:"owner",filename:__filename},async(conn,mek,m,{quoted,isGroup,sender,participants,reply})=>{try{//DeterminethetargetuserconsttargetJid=quoted?quoted.sender:sender;if(!targetJid)returnreply("âš ï¸Pleasereplytoamessagetofetchtheprofilepicture.");//Fetchtheuser'sprofilepictureURLconstuserPicUrl=awaitconn.profilePictureUrl(targetJid,"image").catch(()=>null);if(!userPicUrl)returnreply("âš ï¸Noprofilepicturefoundforthespecifieduser.");//Sendtheuser'sprofilepictureawaitconn.sendMessage(m.chat,{image:{url:userPicUrl},caption:"ğŸ–¼ï¸Hereistheprofilepictureofthespecifieduser."});}catch(e){console.error("Errorfetchinguserprofilepicture:",e);reply("âŒAnerroroccurredwhilefetchingtheprofilepicture.Pleasetryagainlater.");}});