const{cmd}=require("../command");constaxios=require("axios");cmd({pattern:"tempnum",alias:["fakenum","tempnumber"],desc:"Gettemporarynumbers&OTPinstructions",category:"tools",react:"ğŸ“±",use:"<country-code>"},async(conn,mek,m,{from,args,reply})=>{try{//Mandatorycountrycodecheckif(!args||args.length<1){returnreply(`âŒ*Usage:*.tempnum<country-code>\nExample:.tempnumus\n\nğŸ“¦Use.otpbox<number>*tocheckOTPs`);}constcountryCode=args[0].toLowerCase();//APIcallwithvalidationconst{data}=awaitaxios.get(`https://api.vreden.my.id/api/tools/fakenumber/listnumber?id=${countryCode}`,{timeout:10000,validateStatus:status=>status===200});//Fixedsyntaxerrorhere-addedmissingparenthesisif(!data?.result||!Array.isArray(data.result)){console.error("InvalidAPIstructure:",data);returnreply(`âš InvalidAPIresponseformat\nTry.tempnumus`);}if(data.result.length===0){returnreply(`ğŸ“­Nonumbersavailablefor*${countryCode.toUpperCase()}*\nTryanothercountrycode!\n\nUse.otpbox<number>afterselection`);}//Processnumbersconstnumbers=data.result.slice(0,25);constnumberList=numbers.map((num,i)=>`${String(i+1).padStart(2,'')}.${num.number}`).join("\n");//FinalmessagewithOTPinstructionsawaitreply(`â•­â”€â”€ã€ŒğŸ“±TEMPORARYNUMBERSã€\n`+`â”‚\n`+`â”‚Country:${countryCode.toUpperCase()}\n`+`â”‚NumbersFound:${numbers.length}\n`+`â”‚\n`+`${numberList}\n\n`+`â•°â”€â”€ã€ŒğŸ“¦USE:.otpbox<number>ã€\n`+`_Example:.otpbox+1234567890_`);}catch(err){console.error("APIError:",err);consterrorMessage=err.code==="ECONNABORTED"?`â³*Timeout*:APItooktoolong\nTrysmallercountrycodeslike'us','gb'`:`âš *Error*:${err.message}\nUseformat:.tempnum<country-code>`;reply(`${errorMessage}\n\nğŸ”‘Remember:${prefix}otpinbox<number>`);}});cmd({pattern:"templist",alias:["tempnumberlist","tempnlist","listnumbers"],desc:"Showlistofcountrieswithtempnumbers",category:"tools",react:"ğŸŒ",filename:__filename,use:".templist"},async(conn,m,{reply})=>{try{const{data}=awaitaxios.get("https://api.vreden.my.id/api/tools/fakenumber/country");if(!data||!data.result)returnreply("âŒCouldn'tfetchcountrylist.");constcountries=data.result.map((c,i)=>`*${i+1}.*${c.title}\`(${c.id})\``).join("\n");awaitreply(`ğŸŒ*TotalAvailableCountries:*${data.result.length}\n\n${countries}`);}catch(e){console.error("TEMPLISTERROR:",e);reply("âŒFailedtofetchtemporarynumbercountrylist.");}});cmd({pattern:"otpbox",alias:["checkotp","getotp"],desc:"CheckOTPmessagesfortemporarynumber",category:"tools",react:"ğŸ”‘",use:"<full-number>"},async(conn,mek,m,{from,args,reply})=>{try{//Validateinputif(!args[0]||!args[0].startsWith("+")){returnreply(`âŒ*Usage:*.otpbox<full-number>\nExample:.otpbox+254732297xx`);}constphoneNumber=args[0].trim();//FetchOTPmessagesconst{data}=awaitaxios.get(`https://api.vreden.my.id/api/tools/fakenumber/message?nomor=${encodeURIComponent(phoneNumber)}`,{timeout:10000,validateStatus:status=>status===200});//Validateresponseif(!data?.result||!Array.isArray(data.result)){returnreply("âš NoOTPmessagesfoundforthisnumber");}//FormatOTPmessagesconstotpMessages=data.result.map(msg=>{//ExtractOTPcode(matchescommonOTPpatterns)constotpMatch=msg.content.match(/\b\d{4,8}\b/g);constotpCode=otpMatch?otpMatch[0]:"Notfound";return`â”Œ*From:*${msg.from||"Unknown"}â”‚*Code:*${otpCode}â”‚*Time:*${msg.time_wib||msg.timestamp}â””*Message:*${msg.content.substring(0,50)}${msg.content.length>50?"...":""}`;}).join("\n\n");awaitreply(`â•­â”€â”€ã€ŒğŸ”‘OTPMESSAGESã€\n`+`â”‚Number:${phoneNumber}\n`+`â”‚MessagesFound:${data.result.length}\n`+`â”‚\n`+`${otpMessages}\n`+`â•°â”€â”€ã€ŒğŸ“ŒUse.tempnumtogetnumbersã€`);}catch(err){console.error("OTPCheckError:",err);consterrorMsg=err.code==="ECONNABORTED"?"âŒ›OTPchecktimedout.Tryagainlater":`âš Error:${err.response?.data?.error||err.message}`;reply(`${errorMsg}\n\nUsage:.otpbox+2547322xx`);}});