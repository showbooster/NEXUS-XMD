constfetch=require("node-fetch");const{cmd}=require("../command");cmd({pattern:"tiktoksearch",alias:["tiktoks","tiks"],desc:"SearchforTikTokvideosusingaquery.",react:'âœ…',category:'tools',filename:__filename},async(conn,m,store,{from,args,reply})=>{if(!args[0]){returnreply("ğŸŒ¸WhatdoyouwanttosearchonTikTok?\n\n*UsageExample:*\n.tiktoksearch<query>");}constquery=args.join("");awaitstore.react('âŒ›');try{reply(`ğŸ”SearchingTikTokfor:*${query}*`);constresponse=awaitfetch(`https://apis-starlights-team.koyeb.app/starlight/tiktoksearch?text=${encodeURIComponent(query)}`);constdata=awaitresponse.json();if(!data||!data.data||data.data.length===0){awaitstore.react('âŒ');returnreply("âŒNoresultsfoundforyourquery.Pleasetrywithadifferentkeyword.");}//Getupto7randomresultsconstresults=data.data.slice(0,7).sort(()=>Math.random()-0.5);for(constvideoofresults){constmessage=`ğŸŒ¸*TikTokVideoResult*:\n\n`+`*â€¢Title*:${video.title}\n`+`*â€¢Author*:${video.author||'Unknown'}\n`+`*â€¢Duration*:${video.duration||"Unknown"}\n`+`*â€¢URL*:${video.link}\n\n`;if(video.nowm){awaitconn.sendMessage(from,{video:{url:video.nowm},caption:message},{quoted:m});}else{reply(`âŒFailedtoretrievevideofor*"${video.title}"*.`);}}awaitstore.react('âœ…');}catch(error){console.error("ErrorinTikTokSearchcommand:",error);awaitstore.react('âŒ');reply("âŒAnerroroccurredwhilesearchingTikTok.Pleasetryagainlater.");}});